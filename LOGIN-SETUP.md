# 👤 用户名密码登录配置指南

## 🆕 新的登录方式

系统已升级为**用户名+密码**登录方式，更加直观和安全！

### 🔐 EdgeOne Pages 环境变量配置

#### 必需的环境变量

1. **ADMIN_USERNAME**

   - 值：`admin`（推荐）或您自定义的用户名
   - 描述：管理员用户名

2. **ADMIN_PASSWORD**

   - 值：`SecurePass123!`（示例，请自定义）
   - 描述：管理员密码
   - **要求**：建议 8 位以上，包含字母、数字

3. **GITEE_TOKEN**
   - 值：`48eb317592d7a716e5cdc03411e51d37`
   - 描述：Gitee API 访问令牌

### 📝 EdgeOne 控制台配置步骤

```
1. 登录EdgeOne Pages控制台
2. 进入项目设置 → 环境变量
3. 添加以下变量：

变量名: ADMIN_USERNAME
变量值: admin

变量名: ADMIN_PASSWORD
变量值: SecurePass123!

变量名: GITEE_TOKEN
变量值: 48eb317592d7a716e5cdc03411e51d37
```

### 🚀 登录管理后台

#### 访问地址

```
https://您的域名.com/admin-new.html
```

#### 默认登录信息（如未配置环境变量）

```
用户名: admin
密码: admin123
```

#### 自定义登录信息（推荐）

```
用户名: [您在EdgeOne设置的ADMIN_USERNAME]
密码: [您在EdgeOne设置的ADMIN_PASSWORD]
```

## 🛡️ 安全特性

### ✅ 优势对比

| 特性         | 旧的 API 密钥     | 新的用户名密码        |
| ------------ | ----------------- | --------------------- |
| **用户体验** | 复杂的随机字符串  | 🟢 直观的用户名密码   |
| **记忆难度** | 🔴 难以记忆       | 🟢 容易记忆           |
| **输入体验** | 🔴 长字符串易出错 | 🟢 分步输入，减少错误 |
| **安全性**   | 🟢 高安全性       | 🟢 同样安全           |
| **管理便利** | 🔴 需要保存密钥   | 🟢 常用用户名密码     |

### 🔒 安全机制

1. **Basic Auth 编码**：自动 Base64 编码传输
2. **会话存储**：登录凭据存储在 sessionStorage
3. **自动清除**：关闭浏览器自动清除凭据
4. **环境变量**：敏感信息通过 EdgeOne 环境变量保护
5. **双重验证**：支持用户名密码 + API 密钥（向后兼容）

## 🔧 快速测试

### 本地测试

如果您在本地测试（未部署到 EdgeOne）：

```
用户名: admin
密码: admin123
```

### 线上环境

部署到 EdgeOne 后，使用您配置的环境变量：

```
用户名: [ADMIN_USERNAME的值]
密码: [ADMIN_PASSWORD的值]
```

## 📱 使用体验

### 登录流程

1. 访问管理后台
2. 输入用户名（按 Enter 跳转到密码）
3. 输入密码（按 Enter 直接登录）
4. 系统验证并显示欢迎信息

### 操作提示

- 🆔 **用户名输入**：按 Enter 键自动跳转到密码框
- 🔑 **密码输入**：按 Enter 键直接提交登录
- 👋 **登录成功**：显示"欢迎 [用户名]！登录成功"
- 🚪 **安全退出**：清除所有登录凭据

## ⚠️ 重要提醒

1. **密码安全**：

   - 使用强密码（推荐 8 位以上）
   - 包含字母、数字、特殊字符
   - 定期更换密码

2. **环境变量**：

   - 生产环境必须配置 EdgeOne 环境变量
   - 不要在代码中硬编码密码
   - 测试环境使用默认值

3. **兼容性**：
   - 支持旧的 API 密钥方式（向后兼容）
   - 新用户推荐使用用户名密码
   - 可以在同一系统中混合使用

## 🎯 推荐配置

### 生产环境

```bash
ADMIN_USERNAME=admin
ADMIN_PASSWORD=MySecure2024!
GITEE_TOKEN=48eb317592d7a716e5cdc03411e51d37
```

### 开发环境

```bash
ADMIN_USERNAME=dev
ADMIN_PASSWORD=dev123
GITEE_TOKEN=48eb317592d7a716e5cdc03411e51d37
```

---

✨ **现在您可以享受更友好的登录体验了！**

🔗 **下一步**：访问 `admin-new.html` 并使用新的登录方式体验管理后台！
